
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Plot Figures &#8212; Owl Numerical Library 0.3 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Scripting and Zoo System" href="zoo.html" />
    <link rel="prev" title="Neural Network" href="neural.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/owl_logo_4.png" alt="Logo"/>
    
  </a>
</p>











  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Plot Figures</a><ul>
<li><a class="reference internal" href="#create-plots">Create Plots</a></li>
<li><a class="reference internal" href="#configure-via-spec">Configure via Spec</a></li>
<li><a class="reference internal" href="#subplots">Subplots</a></li>
<li><a class="reference internal" href="#multiple-lines">Multiple (Lines)</a></li>
<li><a class="reference internal" href="#legend">Legend</a></li>
<li><a class="reference internal" href="#drawing">Drawing</a></li>
<li><a class="reference internal" href="#various-types-of-plot">Various Types of Plot</a><ul>
<li><a class="reference internal" href="#line-plot">Line Plot</a></li>
<li><a class="reference internal" href="#scatter-plot">Scatter Plot</a></li>
<li><a class="reference internal" href="#stairs-plot">Stairs Plot</a></li>
<li><a class="reference internal" href="#box-plot">Box Plot</a></li>
<li><a class="reference internal" href="#stem-plot">Stem Plot</a></li>
<li><a class="reference internal" href="#area-plot">Area Plot</a></li>
<li><a class="reference internal" href="#histogram-cdf-plot">Histogram &amp; CDF Plot</a></li>
<li><a class="reference internal" href="#log-plot">Log Plot</a></li>
<li><a class="reference internal" href="#d-plot">3D Plot</a></li>
<li><a class="reference internal" href="#advanced-statistical-plot">Advanced Statistical Plot</a></li>
<li><a class="reference internal" href="#plot-specification">Plot Specification</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Part II: Owl Numerical System</a><ul>
      <li>Previous: <a href="neural.html" title="previous chapter">Neural Network</a></li>
      <li>Next: <a href="zoo.html" title="next chapter">Scripting and Zoo System</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="plot-figures">
<h1>Plot Figures<a class="headerlink" href="#plot-figures" title="Permalink to this headline">¶</a></h1>
<p>Owl is an OCaml numerical library. Besides its extensive supports to matrix operations, it also has a flexible plotting module. Owl’s <code class="docutils literal notranslate"><span class="pre">Plot</span></code> module is designed to help you in making fairly complicated plots with minimal coding efforts. It is built atop of <a class="reference external" href="http://plplot.sourceforge.net/index.php">Plplot</a> but hides its complexity from users.</p>
<p>The module is cross-platform since <code class="docutils literal notranslate"><span class="pre">Plplot</span></code> calls the underlying graphics device driver to plot. However, based on my experience, the <a class="reference external" href="https://cran.r-project.org/web/packages/Cairo/index.html">Cairo Package</a> provides the best quality and most accurate figure so I recommend installing Cairo.</p>
<p>The examples in this tutorial are generated by using <code class="docutils literal notranslate"><span class="pre">Cairo</span> <span class="pre">PNG</span> <span class="pre">Driver</span></code>.</p>
<div class="section" id="create-plots">
<h2>Create Plots<a class="headerlink" href="#create-plots" title="Permalink to this headline">¶</a></h2>
<p>Simply put, there are two ways of plotting: 1) with a handle; 2) without a handle. You can imagine a handle is just a “pointer” to a figure. The first option is for lazy people who do not want to fine tune their figures but want to have a look at their results quickly. Most plotting functions in Owl can be called without an explicit handle passed in. E.g., the following code creates a simple line plot.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="o">/.</span> <span class="n">x</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">plot_fun</span> <span class="n">f</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">15</span><span class="o">.;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_002.png"><img alt="plot example" src="../_images/plot_002.png" style="width: 100%;" /></a>
</div>
<p>However, in most cases, you do want to have a full control over the figure you are creating and do want to configure it a bit especially if you don’t like the default red on black theme. Then, here is the standard way of creating a plot using <code class="docutils literal notranslate"><span class="pre">Plot.create</span></code> function. Here is its type definition in <code class="docutils literal notranslate"><span class="pre">Owl_plot.mli</span></code></p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">create</span> <span class="o">:</span> <span class="o">?</span><span class="n">m</span><span class="o">:</span><span class="kt">int</span> <span class="o">-&gt;</span> <span class="o">?</span><span class="n">n</span><span class="o">:</span><span class="kt">int</span> <span class="o">-&gt;</span> <span class="kt">string</span> <span class="o">-&gt;</span> <span class="n">handle</span>
</pre></div>
</div>
<p>The first two parameters <code class="docutils literal notranslate"><span class="pre">m</span></code> and <code class="docutils literal notranslate"><span class="pre">n</span></code> are used for creating subplot, I will talk about subplot later. Now we only use the third parameter which defines the output file. Let’s extend the previous example.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="o">/.</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;plot_003.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">set_foreground_color</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Function: f(x) = sine x / x&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;x-axis&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;y-axis&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_font_size</span> <span class="n">h</span> <span class="mi">8</span><span class="o">.;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_pen_size</span> <span class="n">h</span> <span class="mi">3</span><span class="o">.;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="n">f</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">15</span><span class="o">.;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<p>As we can see, we first create a plot handle <code class="docutils literal notranslate"><span class="pre">h</span></code> and also specified the output file as <code class="docutils literal notranslate"><span class="pre">plot_003.png</span></code> in <code class="docutils literal notranslate"><span class="pre">create</span></code> function. Owl will select the suitable output device driver for you based on the file name suffix. Then we call various functions in the <code class="docutils literal notranslate"><span class="pre">Plot</span></code> module to configure the plot by passing in <code class="docutils literal notranslate"><span class="pre">h</span></code>. These functions are self-explained, and you can read Owl’s documentation for details.</p>
<p>There are two thing worth mentioning here. First, you need to pass <code class="docutils literal notranslate"><span class="pre">h</span></code> to the plot function, i.e., <code class="docutils literal notranslate"><span class="pre">Plot.plot_fun</span></code> in this example. Second, the most important step is calling <code class="docutils literal notranslate"><span class="pre">Plot.output</span> <span class="pre">h</span></code> will actually write your figure to a file.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_003.png"><img alt="plot example" src="../_images/plot_003.png" style="width: 100%;" /></a>
</div>
<p>Simple, isn’t it? Let’s continue to more interesting plots.</p>
</div>
<div class="section" id="configure-via-spec">
<h2>Configure via Spec<a class="headerlink" href="#configure-via-spec" title="Permalink to this headline">¶</a></h2>
<p>Introduce <code class="docutils literal notranslate"><span class="pre">spec</span></code> …</p>
</div>
<div class="section" id="subplots">
<h2>Subplots<a class="headerlink" href="#subplots" title="Permalink to this headline">¶</a></h2>
<p>You use the same <code class="docutils literal notranslate"><span class="pre">Plot.create</span></code> function to start a subplot. E.g., the code below create a <code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">x</span> <span class="pre">2</span></code> subplot. We leave the output file name as an empty string so <code class="docutils literal notranslate"><span class="pre">Plplot</span></code> later will prompt a list of device drivers you can choose from, when you call <code class="docutils literal notranslate"><span class="pre">Plot.output</span></code>.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="o">...</span>
</pre></div>
</div>
<p>The key concept of subplot is: you need to successively call <code class="docutils literal notranslate"><span class="pre">Plot.subplot</span></code> to “focus” on different individual subplot to work on them. Continue the previous example, let’s look at the code below.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">f</span> <span class="n">p</span> <span class="n">i</span> <span class="o">=</span> <span class="k">match</span> <span class="n">i</span> <span class="k">with</span>
  <span class="o">|</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Rnd</span><span class="p">.</span><span class="n">gaussian</span> <span class="o">~</span><span class="n">sigma</span><span class="o">:</span><span class="mi">0</span><span class="o">.</span><span class="mi">5</span> <span class="bp">()</span> <span class="o">+.</span> <span class="n">p</span><span class="o">.(</span><span class="mi">1</span><span class="o">)</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Rnd</span><span class="p">.</span><span class="n">gaussian</span> <span class="o">~</span><span class="n">sigma</span><span class="o">:</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span> <span class="bp">()</span> <span class="o">*.</span> <span class="n">p</span><span class="o">.(</span><span class="mi">0</span><span class="o">)</span>
<span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Stats</span><span class="p">.</span><span class="n">gibbs_sampling</span> <span class="n">f</span> <span class="o">[|</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">;</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">|]</span> <span class="mi">5_000</span> <span class="o">|&gt;</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">of_arrays</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>

<span class="c">(* focus on the subplot at 0,0 *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Bivariate model&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">(</span><span class="nn">Mat</span><span class="p">.</span><span class="n">col</span> <span class="n">y</span> <span class="mi">0</span><span class="o">)</span> <span class="o">(</span><span class="nn">Mat</span><span class="p">.</span><span class="n">col</span> <span class="n">y</span> <span class="mi">1</span><span class="o">);</span>

<span class="c">(* focus on the subplot at 0,1 *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Distribution of y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Frequency&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">histogram</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">bin</span><span class="o">:</span><span class="mi">50</span> <span class="o">(</span><span class="nn">Mat</span><span class="p">.</span><span class="n">col</span> <span class="n">y</span> <span class="mi">1</span><span class="o">);</span>

<span class="c">(* focus on the subplot at 1,0 *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Distribution of x&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Frequency&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">histogram</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">bin</span><span class="o">:</span><span class="mi">50</span> <span class="o">(</span><span class="nn">Mat</span><span class="p">.</span><span class="n">col</span> <span class="n">y</span> <span class="mi">0</span><span class="o">);</span>

<span class="c">(* focus on the subplot at 1,1 *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_foreground_color</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">50</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Sine function&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">2</span> <span class="o">]</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">28</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">autocorr</span> <span class="o">~</span><span class="n">h</span> <span class="o">(</span><span class="nn">Mat</span><span class="p">.</span><span class="n">sequential</span> <span class="mi">1</span> <span class="mi">28</span><span class="o">);</span>

<span class="c">(* output your final plot *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<p>The code will generate the following plot. You can control the configuration of each individual subplot once you have “focused” on it by calling <code class="docutils literal notranslate"><span class="pre">Plot.subplot</span></code>. Besides the figure handle <code class="docutils literal notranslate"><span class="pre">h</span></code>, <code class="docutils literal notranslate"><span class="pre">Plot.subplot</span></code> uses the two-dimensional index you pass in to locate the subplot.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_004.png"><img alt="plot example" src="../_images/plot_004.png" style="width: 100%;" /></a>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Plot</span></code> module automatically calculates the suitable page size for your subplot. If you are not happy with the calculated size, you can also specify the page size by calling <code class="docutils literal notranslate"><span class="pre">Plot.set_page_size</span></code> function.</p>
<p>Subplot is quite straightforward, right?</p>
</div>
<div class="section" id="multiple-lines">
<h2>Multiple (Lines)<a class="headerlink" href="#multiple-lines" title="Permalink to this headline">¶</a></h2>
<p>You can certainly plot multiple lines (or other types of plots) on the same page. Once you call <code class="docutils literal notranslate"><span class="pre">Plot.output</span></code>, the plot will be <code class="docutils literal notranslate"><span class="pre">sealed</span></code> and written into the final file. Here is one example with both sine and cosine lines in one plot.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">);</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2299]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">8</span><span class="o">.</span> <span class="o">]</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">9</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x0394]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">8</span><span class="o">.</span> <span class="o">]</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">cos</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">9</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">legend_on</span> <span class="n">h</span> <span class="o">[|</span><span class="s2">&quot;Sine function&quot;</span><span class="o">;</span> <span class="s2">&quot;Cosine function&quot;</span><span class="o">|];</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_005.png"><img alt="plot example" src="../_images/plot_005.png" style="width: 100%;" /></a>
</div>
<p>Here is another example which has both histogram and line plot in one figure.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="c">(* generate data *)</span>
<span class="k">let</span> <span class="n">f</span> <span class="n">p</span> <span class="o">=</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Pdf</span><span class="p">.</span><span class="n">gaussian</span> <span class="n">p</span><span class="o">.(</span><span class="mi">0</span><span class="o">)</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">g</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Pdf</span><span class="p">.</span><span class="n">gaussian</span> <span class="n">x</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span> <span class="o">*.</span> <span class="mi">4000</span><span class="o">.</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Stats</span><span class="p">.</span><span class="n">metropolis_hastings</span> <span class="n">f</span> <span class="o">[|</span><span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">|]</span> <span class="mi">100_000</span> <span class="o">|&gt;</span>  <span class="nn">Mat</span><span class="p">.</span><span class="n">of_arrays</span> <span class="k">in</span>

<span class="c">(* plot multiple data sets *)</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">histogram</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">50</span><span class="o">)</span> <span class="o">]</span> <span class="o">~</span><span class="n">bin</span><span class="o">:</span><span class="mi">100</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">);</span> <span class="nc">LineWidth</span> <span class="mi">2</span><span class="o">.</span> <span class="o">]</span> <span class="n">g</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.)</span> <span class="mi">2</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">legend_on</span> <span class="n">h</span> <span class="o">[|</span><span class="s2">&quot;data&quot;</span><span class="o">;</span> <span class="s2">&quot;model&quot;</span><span class="o">|];</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_006.png"><img alt="plot example" src="../_images/plot_006.png" style="width: 100%;" /></a>
</div>
<p>So as long as you “hold” the plot without calling <code class="docutils literal notranslate"><span class="pre">Plot.output</span></code>, you can plot many data sets in one figure.</p>
</div>
<div class="section" id="legend">
<h2>Legend<a class="headerlink" href="#legend" title="Permalink to this headline">¶</a></h2>
<p>Legend can be turned on and off by calling <code class="docutils literal notranslate"><span class="pre">Plot.legend_on</span></code> and <code class="docutils literal notranslate"><span class="pre">Plot.legend_off</span></code> respectively. When you call <code class="docutils literal notranslate"><span class="pre">Plot.legend_on</span></code>, you also need to provide an array of legend names and the position of legend. There are eight default positions in <code class="docutils literal notranslate"><span class="pre">Plot</span></code>.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="n">legend_position</span> <span class="o">=</span>
  <span class="nc">North</span> <span class="o">|</span> <span class="nc">South</span> <span class="o">|</span> <span class="nc">West</span> <span class="o">|</span> <span class="nc">East</span> <span class="o">|</span> <span class="nc">NorthWest</span> <span class="o">|</span> <span class="nc">NorthEast</span> <span class="o">|</span> <span class="nc">SouthWest</span> <span class="o">|</span> <span class="nc">SouthEast</span>
</pre></div>
</div>
<p>Despite of its messy looking, the following example shows how to use legend in Owl’s plot module.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="c">(* generate data *)</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">20</span> <span class="o">*$</span> <span class="mi">10</span><span class="o">.)</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">20</span><span class="o">)</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">gaussian</span> <span class="mi">1</span> <span class="mi">20</span> <span class="k">in</span>

<span class="c">(* plot multiple data sets *)</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">1</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;*&quot;</span> <span class="o">]</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">8</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">2</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;+&quot;</span> <span class="o">]</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">cos</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">8</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">stem</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">z</span><span class="o">;</span>
<span class="k">let</span> <span class="n">u</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">abs</span><span class="o">(</span><span class="n">gaussian</span> <span class="mi">1</span> <span class="mi">10</span> <span class="o">*$</span> <span class="mi">0</span><span class="o">.</span><span class="mi">3</span><span class="o">))</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">bar</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">FillPattern</span> <span class="mi">3</span> <span class="o">]</span> <span class="n">u</span><span class="o">);</span>
<span class="k">let</span> <span class="n">v</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">neg</span> <span class="n">u</span> <span class="o">*$</span> <span class="mi">0</span><span class="o">.</span><span class="mi">3</span><span class="o">)</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">u</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">sequential</span> <span class="mi">1</span> <span class="mi">10</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">area</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">FillPattern</span> <span class="mi">4</span> <span class="o">]</span> <span class="n">u</span> <span class="n">v</span><span class="o">);</span>
<span class="c">(* set up legend *)</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">legend_on</span> <span class="n">h</span> <span class="o">~</span><span class="n">position</span><span class="o">:</span><span class="nc">NorthEast</span> <span class="o">[|</span><span class="s2">&quot;test 1&quot;</span><span class="o">;</span> <span class="s2">&quot;test 2&quot;</span><span class="o">;</span> <span class="s2">&quot;scatter&quot;</span><span class="o">;</span> <span class="s2">&quot;stem&quot;</span><span class="o">;</span> <span class="s2">&quot;bar&quot;</span><span class="o">;</span> <span class="s2">&quot;area&quot;</span><span class="o">|]);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_007.png"><img alt="plot example" src="../_images/plot_007.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="drawing">
<h2>Drawing<a class="headerlink" href="#drawing" title="Permalink to this headline">¶</a></h2>
<p>You can draw lines and rectangles in the plot. The first example actually shows different line styles in <code class="docutils literal notranslate"><span class="pre">Plot</span></code> by drawing multiple lines.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_pen_size</span> <span class="n">h</span> <span class="mi">2</span><span class="o">.;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">1</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">1</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">2</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">2</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">2</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">3</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">3</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">3</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">4</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">4</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">4</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">5</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">5</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">5</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">6</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">6</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">6</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">7</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">7</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">7</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_line</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">LineStyle</span> <span class="mi">8</span> <span class="o">]</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">8</span><span class="o">.</span> <span class="mi">9</span><span class="o">.</span> <span class="mi">8</span><span class="o">.);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xrange</span> <span class="n">h</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">10</span><span class="o">.;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_yrange</span> <span class="n">h</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">9</span><span class="o">.;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_008.png"><img alt="plot example" src="../_images/plot_008.png" style="width: 100%;" /></a>
</div>
<p>Similarly, the next example shows the filling patterns in <code class="docutils literal notranslate"><span class="pre">Plot</span></code> by drawing rectangles.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Array</span><span class="p">.</span><span class="n">init</span> <span class="mi">9</span> <span class="o">(</span><span class="k">fun</span> <span class="n">i</span> <span class="o">-&gt;</span>
  <span class="k">let</span> <span class="n">x0</span><span class="o">,</span> <span class="n">y0</span> <span class="o">=</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="o">,</span> <span class="n">float_of_int</span> <span class="n">i</span> <span class="o">+.</span> <span class="mi">1</span><span class="o">.</span><span class="mi">0</span> <span class="k">in</span>
  <span class="k">let</span> <span class="n">x1</span><span class="o">,</span> <span class="n">y1</span> <span class="o">=</span> <span class="mi">4</span><span class="o">.</span><span class="mi">5</span><span class="o">,</span> <span class="n">float_of_int</span> <span class="n">i</span> <span class="o">+.</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span> <span class="k">in</span>
  <span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">draw_rect</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">FillPattern</span> <span class="n">i</span> <span class="o">]</span> <span class="n">x0</span> <span class="n">y0</span> <span class="n">x1</span> <span class="n">y1</span><span class="o">);</span>
  <span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">text</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">)</span> <span class="o">]</span> <span class="mi">2</span><span class="o">.</span><span class="mi">3</span> <span class="o">(</span><span class="n">y0</span><span class="o">-.</span><span class="mi">0</span><span class="o">.</span><span class="mi">2</span><span class="o">)</span> <span class="o">(</span><span class="s2">&quot;pattern: &quot;</span> <span class="o">^</span> <span class="o">(</span><span class="n">string_of_int</span> <span class="n">i</span><span class="o">)));</span>
<span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_009.png"><img alt="plot example" src="../_images/plot_009.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="various-types-of-plot">
<h2>Various Types of Plot<a class="headerlink" href="#various-types-of-plot" title="Permalink to this headline">¶</a></h2>
<p>In the following, I will use several examples to illustrate how to use the basic plotting functions in Owl.</p>
<div class="section" id="line-plot">
<h3>Line Plot<a class="headerlink" href="#line-plot" title="Permalink to this headline">¶</a></h3>
<p>Line plot is the most basic function. You can specify the colour, marker, and line style in the function.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">2</span><span class="o">.</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y0</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">sigmoid</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y1</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">1</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2299]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">8</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y0</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">2</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x0394]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">8</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y1</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">legend_on</span> <span class="n">h</span> <span class="o">~</span><span class="n">position</span><span class="o">:</span><span class="nc">SouthEast</span> <span class="o">[|</span><span class="s2">&quot;sigmoid&quot;</span><span class="o">;</span> <span class="s2">&quot;sine&quot;</span><span class="o">|]);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_010.png"><img alt="plot example" src="../_images/plot_010.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="scatter-plot">
<h3>Scatter Plot<a class="headerlink" href="#scatter-plot" title="Permalink to this headline">¶</a></h3>
<p>For scatter plot, the most important thing is the markers. You can check all the possible marker symbols on [this page](<a class="reference external" href="http://plplot.sourceforge.net/examples.php?demo=23">http://plplot.sourceforge.net/examples.php?demo=23</a>), they can be passed in as a parameter to <code class="docutils literal notranslate"><span class="pre">Plot.scatter</span></code> function.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">30</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">30</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">3</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">3</span> <span class="s2">&quot;zzz.png&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2295]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x229a]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2206]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x229e]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2217]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2296]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">2</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2666]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">2</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x22a1]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">2</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">scatter</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x22b9]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_011.png"><img alt="plot example" src="../_images/plot_011.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="stairs-plot">
<h3>Stairs Plot<a class="headerlink" href="#stairs-plot" title="Permalink to this headline">¶</a></h3>
<p>Instead of drawing a straight line between two points, stairs plot first moves along the x-axis then y-axis while plotting the data. The following example is self-explained.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">6</span><span class="o">.</span><span class="mi">5</span> <span class="mi">20</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">plot_fun</span> <span class="o">~</span><span class="n">h</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">6</span><span class="o">.</span><span class="mi">5</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">stairs</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">128</span><span class="o">,</span><span class="mi">255</span><span class="o">)</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">plot</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">)</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">stairs</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">128</span><span class="o">,</span><span class="mi">255</span><span class="o">)</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_019.png"><img alt="plot example" src="../_images/plot_019.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="box-plot">
<h3>Box Plot<a class="headerlink" href="#box-plot" title="Permalink to this headline">¶</a></h3>
<p>Box plots here generally refer to histogram, bar chart, and Whisker plot. You already learnt how to make a histogram plot. In the following, I will show how to make the other two.</p>
<p>Here is the example for making both bar chart and Whisker box. Just note the input to <code class="docutils literal notranslate"><span class="pre">Plot.boxplot</span></code> is a row-based matrix, each row represents multiple measurements of one variable, which correspond one box in the plot.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">y1</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">10</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y2</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">uniform</span> <span class="mi">10</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">bar</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">153</span><span class="o">,</span><span class="mi">51</span><span class="o">);</span> <span class="nc">FillPattern</span> <span class="mi">3</span> <span class="o">]</span> <span class="n">y1</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">boxplot</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">153</span><span class="o">,</span><span class="mi">51</span><span class="o">)</span> <span class="o">]</span> <span class="n">y2</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_012.png"><img alt="plot example" src="../_images/plot_012.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="stem-plot">
<h3>Stem Plot<a class="headerlink" href="#stem-plot" title="Permalink to this headline">¶</a></h3>
<p>Stem plot is simple, as the following code shows.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="mi">25</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="nn">Stats</span><span class="p">.</span><span class="nn">Pdf</span><span class="p">.</span><span class="n">exponential</span> <span class="mi">0</span><span class="o">.</span><span class="mi">1</span><span class="o">)</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_background_color</span> <span class="n">h</span> <span class="mi">255</span> <span class="mi">255</span> <span class="mi">255</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_foreground_color</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">stem</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">stem</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Marker</span> <span class="s2">&quot;#[0x2295]&quot;</span><span class="o">;</span> <span class="nc">MarkerSize</span> <span class="mi">5</span><span class="o">.;</span> <span class="nc">LineStyle</span> <span class="mi">1</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_013.png"><img alt="plot example" src="../_images/plot_013.png" style="width: 100%;" /></a>
</div>
<p>Stem plot is often used to show the autocorrelation of a variable, therefore <code class="docutils literal notranslate"><span class="pre">Plot</span></code> module already includes <code class="docutils literal notranslate"><span class="pre">autocorr</span></code> for your convenience.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">8</span><span class="o">.</span> <span class="mi">30</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y0</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y1</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">uniform</span> <span class="mi">1</span> <span class="mi">30</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Sine&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">autocorr</span> <span class="o">~</span><span class="n">h</span> <span class="n">y0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Gaussian&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">autocorr</span> <span class="o">~</span><span class="n">h</span> <span class="n">y1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<p>Obviously, sine function possesses stronger self-similarity than Gaussian noise.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_014.png"><img alt="plot example" src="../_images/plot_014.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="area-plot">
<h3>Area Plot<a class="headerlink" href="#area-plot" title="Permalink to this headline">¶</a></h3>
<p>Area plot is similar to line plot but also fills the space between the line and x-axis.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span> <span class="mi">8</span><span class="o">.</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">atan</span> <span class="n">x</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">area</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">FillPattern</span> <span class="mi">1</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">linspace</span> <span class="mi">0</span><span class="o">.</span> <span class="o">(</span><span class="mi">2</span><span class="o">.</span> <span class="o">*.</span> <span class="mi">3</span><span class="o">.</span><span class="mi">1416</span><span class="o">)</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">sin</span> <span class="n">x</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">area</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">FillPattern</span> <span class="mi">2</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_015.png"><img alt="plot example" src="../_images/plot_015.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="histogram-cdf-plot">
<h3>Histogram &amp; CDF Plot<a class="headerlink" href="#histogram-cdf-plot" title="Permalink to this headline">¶</a></h3>
<p>Given a series of measurements, you can easily plot the histogram and empirical cumulative distribution of the data.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">gaussian</span> <span class="mi">200</span> <span class="mi">1</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;histogram&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">histogram</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">bin</span><span class="o">:</span><span class="mi">25</span> <span class="n">x</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;empirical cdf&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">ecdf</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_020.png"><img alt="plot example" src="../_images/plot_020.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="log-plot">
<h3>Log Plot<a class="headerlink" href="#log-plot" title="Permalink to this headline">¶</a></h3>
<p>Plot with log-scale on either or both x and y axis.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">logspace</span> <span class="o">(-</span><span class="mi">1</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span> <span class="mi">50</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="nn">Maths</span><span class="p">.</span><span class="n">exp</span> <span class="n">x</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;plot_027.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data X&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">loglog</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">0</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">2</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;+&quot;</span> <span class="o">]</span> <span class="o">~</span><span class="n">x</span><span class="o">:</span><span class="n">x</span> <span class="n">y</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Index of Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">loglog</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">0</span><span class="o">,</span><span class="mi">255</span><span class="o">);</span> <span class="nc">LineStyle</span> <span class="mi">1</span><span class="o">;</span> <span class="nc">Marker</span> <span class="s2">&quot;*&quot;</span> <span class="o">]</span> <span class="n">y</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data X&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">semilogx</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">x</span><span class="o">:</span><span class="n">x</span> <span class="n">y</span><span class="o">;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Index of Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Input Data Y&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">semilogy</span> <span class="o">~</span><span class="n">h</span> <span class="n">y</span><span class="o">;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_027.png"><img alt="plot example" src="../_images/plot_027.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="d-plot">
<h3>3D Plot<a class="headerlink" href="#d-plot" title="Permalink to this headline">¶</a></h3>
<p>There are four functions in <code class="docutils literal notranslate"><span class="pre">Plot</span></code> module related to 3D plot. They are <code class="docutils literal notranslate"><span class="pre">surf</span></code>, <code class="docutils literal notranslate"><span class="pre">mesh</span></code>, <code class="docutils literal notranslate"><span class="pre">heatmap</span></code>, and <code class="docutils literal notranslate"><span class="pre">contour</span></code> functions. Again, I will illustrate them with examples.</p>
<p>First, let’s look at <code class="docutils literal notranslate"><span class="pre">mesh</span></code> and <code class="docutils literal notranslate"><span class="pre">surf</span></code> functions.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="mi">100</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z0</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">sin</span> <span class="o">((</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)))</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z1</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">cos</span> <span class="o">((</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)))</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;plot_016.png&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_016.png"><img alt="plot example" src="../_images/plot_016.png" style="width: 100%;" /></a>
</div>
<p>It is easy to control the viewpoint with <code class="docutils literal notranslate"><span class="pre">altitude</span></code> and <code class="docutils literal notranslate"><span class="pre">azimuth</span></code> parameters. Here is an example.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="mi">100</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">sin</span> <span class="o">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">y</span><span class="o">)))</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">3</span> <span class="s2">&quot;test_mesh.png&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Altitude</span> <span class="mi">50</span><span class="o">.;</span> <span class="nc">Azimuth</span> <span class="mi">120</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Altitude</span> <span class="mi">65</span><span class="o">.;</span> <span class="nc">Azimuth</span> <span class="mi">120</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Altitude</span> <span class="mi">80</span><span class="o">.;</span> <span class="nc">Azimuth</span> <span class="mi">120</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<p>The generated figure is as below.</p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_022.png"><img alt="plot example" src="../_images/plot_022.png" style="width: 100%;" /></a>
</div>
<p>Here is another similar example with different data set.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">3</span><span class="o">.)</span> <span class="mi">3</span><span class="o">.</span> <span class="o">(-</span><span class="mi">3</span><span class="o">.)</span> <span class="mi">3</span><span class="o">.</span> <span class="mi">50</span> <span class="mi">50</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span>
  <span class="mi">3</span><span class="o">.</span> <span class="o">$*</span> <span class="o">((</span><span class="mi">1</span><span class="o">.</span> <span class="o">$-</span> <span class="n">x</span><span class="o">)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">*</span> <span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">((</span><span class="n">y</span> <span class="o">+$</span> <span class="mi">1</span><span class="o">.)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.))</span> <span class="o">-</span>
  <span class="o">(</span><span class="mi">10</span><span class="o">.</span> <span class="o">$*</span> <span class="o">(</span><span class="n">x</span> <span class="o">/$</span> <span class="mi">5</span><span class="o">.</span> <span class="o">-</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">3</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">5</span><span class="o">.))</span> <span class="o">*</span> <span class="o">(</span><span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.))))</span> <span class="o">-</span>
  <span class="o">((</span><span class="mi">1</span><span class="o">./.</span><span class="mi">3</span><span class="o">.)</span> <span class="o">$*</span> <span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">((</span><span class="n">x</span> <span class="o">+$</span> <span class="mi">1</span><span class="o">.)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)))</span>
  <span class="o">)</span>
<span class="k">in</span>

<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">3</span> <span class="s2">&quot;plot_017.png&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Contour</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Contour</span><span class="o">;</span> <span class="nc">Azimuth</span> <span class="mi">115</span><span class="o">.;</span> <span class="nc">NoMagColor</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Azimuth</span> <span class="mi">115</span><span class="o">.;</span> <span class="nc">ZLine</span> <span class="nc">X</span><span class="o">;</span> <span class="nc">NoMagColor</span><span class="o">;</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">61</span><span class="o">,</span><span class="mi">129</span><span class="o">,</span><span class="mi">255</span><span class="o">)</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Azimuth</span> <span class="mi">115</span><span class="o">.;</span> <span class="nc">ZLine</span> <span class="nc">Y</span><span class="o">;</span> <span class="nc">NoMagColor</span><span class="o">;</span> <span class="nc">RGB</span> <span class="o">(</span><span class="mi">130</span><span class="o">,</span><span class="mi">255</span><span class="o">,</span><span class="mi">40</span><span class="o">)</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_017.png"><img alt="plot example" src="../_images/plot_017.png" style="width: 100%;" /></a>
</div>
<p>Finally, let’s look at how heatmap and contour look like.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">3</span><span class="o">.)</span> <span class="mi">3</span><span class="o">.</span> <span class="o">(-</span><span class="mi">3</span><span class="o">.)</span> <span class="mi">3</span><span class="o">.</span> <span class="mi">100</span> <span class="mi">100</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span>
  <span class="mi">3</span><span class="o">.</span> <span class="o">$*</span> <span class="o">((</span><span class="mi">1</span><span class="o">.</span> <span class="o">$-</span> <span class="n">x</span><span class="o">)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">*</span> <span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">((</span><span class="n">y</span> <span class="o">+$</span> <span class="mi">1</span><span class="o">.)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.))</span> <span class="o">-</span>
  <span class="o">(</span><span class="mi">10</span><span class="o">.</span> <span class="o">$*</span> <span class="o">(</span><span class="n">x</span> <span class="o">/$</span> <span class="mi">5</span><span class="o">.</span> <span class="o">-</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">3</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">5</span><span class="o">.))</span> <span class="o">*</span> <span class="o">(</span><span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">(</span><span class="n">x</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.))))</span> <span class="o">-</span>
  <span class="o">((</span><span class="mi">1</span><span class="o">./.</span><span class="mi">3</span><span class="o">.)</span> <span class="o">$*</span> <span class="n">exp</span> <span class="o">(</span><span class="n">neg</span> <span class="o">((</span><span class="n">x</span> <span class="o">+$</span> <span class="mi">1</span><span class="o">.)</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)</span> <span class="o">-</span> <span class="o">(</span><span class="n">y</span> <span class="o">**$</span> <span class="mi">2</span><span class="o">.)))</span>
  <span class="o">)</span>
<span class="k">in</span>

<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;plot_018.png&quot;</span> <span class="k">in</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Contour</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">heatmap</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">contour</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_018.png"><img alt="plot example" src="../_images/plot_018.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="advanced-statistical-plot">
<h3>Advanced Statistical Plot<a class="headerlink" href="#advanced-statistical-plot" title="Permalink to this headline">¶</a></h3>
<p>Both <code class="docutils literal notranslate"><span class="pre">qqplot</span></code> and <code class="docutils literal notranslate"><span class="pre">probplot</span></code> are simple graphical tests for determining if a data set comes from a certain distribution.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">qqplot</span></code> displays a quantile-quantile plot of the quantiles of the sample data y versus the theoretical quantiles values from a given distribution, or the quantiles of the sample data x. Here is an example.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">gaussian</span> <span class="mi">100</span> <span class="mi">1</span> <span class="o">*$</span> <span class="mi">10</span><span class="o">.)</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">gaussian</span> <span class="mi">200</span> <span class="mi">1</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;plot_025.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Gaussian vs. Gaussian Sample&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Quantiles of Input Sample&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Normal Distribution Quantiles&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">qqplot</span> <span class="o">~</span><span class="n">h</span> <span class="n">y</span> <span class="o">~</span><span class="n">x</span><span class="o">:</span><span class="n">x</span><span class="o">;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Gaussian vs. Default Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Quantiles of Input Sample&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Normal Distribution Quantiles&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">qqplot</span> <span class="o">~</span><span class="n">h</span> <span class="n">y</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span><span class="nc">RGB</span> <span class="o">(</span><span class="mi">0</span><span class="o">,</span><span class="mi">128</span><span class="o">,</span><span class="mi">255</span><span class="o">)]);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Gaussian vs. Rayleigh Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Quantiles of Input Sample&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Rayleigh Distribution (sigma=0.5) Quantiles&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">qqplot</span> <span class="o">~</span><span class="n">h</span> <span class="n">y</span> <span class="o">~</span><span class="n">pd</span><span class="o">:(</span><span class="k">fun</span> <span class="n">p</span> <span class="o">-&gt;</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Cdf</span><span class="p">.</span><span class="n">rayleigh_Pinv</span> <span class="n">p</span> <span class="mi">0</span><span class="o">.</span><span class="mi">5</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Gaussian vs. Chi-Square Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Quantiles of Input Sample&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Chi-Square Distribution (k=10) Quantiles&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">qqplot</span> <span class="o">~</span><span class="n">h</span> <span class="n">y</span> <span class="o">~</span><span class="n">pd</span><span class="o">:(</span><span class="k">fun</span> <span class="n">p</span> <span class="o">-&gt;</span>  <span class="nn">Stats</span><span class="p">.</span><span class="nn">Cdf</span><span class="p">.</span><span class="n">chisq_Pinv</span> <span class="n">p</span> <span class="mi">10</span><span class="o">.);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_025.png"><img alt="plot example" src="../_images/plot_025.png" style="width: 100%;" /></a>
</div>
<p><code class="docutils literal notranslate"><span class="pre">probplot</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">qqplot</span></code>. It contains two special cases: <code class="docutils literal notranslate"><span class="pre">normplot</span></code> for when the given theoretical distribution is Normal distribution, and <code class="docutils literal notranslate"><span class="pre">wblplot</span></code> for Weibull Distribution. Here is an example of them.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">empty</span> <span class="mi">200</span> <span class="mi">1</span> <span class="o">|&gt;</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">map</span> <span class="o">(</span><span class="k">fun</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="nn">Stats</span><span class="p">.</span><span class="nn">Rnd</span><span class="p">.</span><span class="n">weibull</span> <span class="mi">1</span><span class="o">.</span><span class="mi">2</span> <span class="mi">1</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">1</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">2</span> <span class="s2">&quot;plot_026.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Random Weibull Sample vs. Std Normal Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Sample Data&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Theoratical Normal Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">normplot</span> <span class="o">~</span><span class="n">h</span> <span class="n">x</span><span class="o">;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_title</span> <span class="n">h</span> <span class="s2">&quot;Random Weibull Sample vs. Weibull Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_xlabel</span> <span class="n">h</span> <span class="s2">&quot;Sample Data&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">set_ylabel</span> <span class="n">h</span> <span class="s2">&quot;Theoratical Weibull Dist&quot;</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="n">wblplot</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">lambda</span><span class="o">:</span><span class="mi">1</span><span class="o">.</span><span class="mi">2</span> <span class="o">~</span><span class="n">k</span><span class="o">:</span><span class="mi">1</span><span class="o">.</span><span class="mi">5</span> <span class="n">x</span><span class="o">;</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_026.png"><img alt="plot example" src="../_images/plot_026.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="plot-specification">
<h3>Plot Specification<a class="headerlink" href="#plot-specification" title="Permalink to this headline">¶</a></h3>
<p>For most high-level plotting functions in Owl, there is an optional parameter called <code class="docutils literal notranslate"><span class="pre">spec</span></code>. <code class="docutils literal notranslate"><span class="pre">spec</span></code> parameter take a list of specifications to let you finer control the appearance of the plot. Every function has a set of slightly different parameters, in case you pass in some parameters that a function cannot understand, they will be simply ignored. If you pass in the same parameter multiple times, only the last one will take effects.</p>
<p>In the following, I will provide some examples to show how to use <code class="docutils literal notranslate"><span class="pre">spec</span></code> parameter to finer tune Owl’s plots. The first example shows how to configure the <code class="docutils literal notranslate"><span class="pre">mesh</span></code> plot using <code class="docutils literal notranslate"><span class="pre">ZLine</span></code>, <code class="docutils literal notranslate"><span class="pre">Contour</span></code>, and other <code class="docutils literal notranslate"><span class="pre">spec</span></code> parameters.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="o">(-</span><span class="mi">2</span><span class="o">.</span><span class="mi">5</span><span class="o">)</span> <span class="mi">2</span><span class="o">.</span><span class="mi">5</span> <span class="mi">50</span> <span class="mi">50</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">sin</span> <span class="o">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">y</span><span class="o">)))</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">3</span> <span class="s2">&quot;plot_023.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">XY</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">X</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">Y</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">Y</span><span class="o">;</span> <span class="nc">NoMagColor</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">Y</span><span class="o">;</span> <span class="nc">Contour</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">mesh</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">ZLine</span> <span class="nc">XY</span><span class="o">;</span> <span class="nc">Curtain</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_023.png"><img alt="plot example" src="../_images/plot_023.png" style="width: 100%;" /></a>
</div>
<p>The second example shows how to tune <code class="docutils literal notranslate"><span class="pre">surf</span></code> plotting function.</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">x</span><span class="o">,</span> <span class="n">y</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="n">meshgrid</span> <span class="o">(-</span><span class="mi">1</span><span class="o">.)</span> <span class="mi">1</span><span class="o">.</span> <span class="o">(-</span><span class="mi">1</span><span class="o">.)</span> <span class="mi">1</span><span class="o">.</span> <span class="mi">50</span> <span class="mi">50</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">z</span> <span class="o">=</span> <span class="nn">Mat</span><span class="p">.</span><span class="o">(</span><span class="n">tanh</span> <span class="o">((</span><span class="n">x</span> <span class="o">*</span> <span class="n">x</span><span class="o">)</span> <span class="o">+</span> <span class="o">(</span><span class="n">y</span> <span class="o">*</span> <span class="n">y</span><span class="o">)))</span> <span class="k">in</span>
<span class="k">let</span> <span class="n">h</span> <span class="o">=</span> <span class="nn">Plot</span><span class="p">.</span><span class="n">create</span> <span class="o">~</span><span class="n">m</span><span class="o">:</span><span class="mi">2</span> <span class="o">~</span><span class="n">n</span><span class="o">:</span><span class="mi">3</span> <span class="s2">&quot;plot_024.png&quot;</span> <span class="k">in</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Faceted</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">0</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">NoMagColor</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">0</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Contour</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">1</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Curtain</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">subplot</span> <span class="n">h</span> <span class="mi">1</span> <span class="mi">2</span><span class="o">;</span>
<span class="nn">Plot</span><span class="p">.</span><span class="o">(</span><span class="n">surf</span> <span class="o">~</span><span class="n">h</span> <span class="o">~</span><span class="n">spec</span><span class="o">:[</span> <span class="nc">Altitude</span> <span class="mi">10</span><span class="o">.;</span> <span class="nc">Azimuth</span> <span class="mi">125</span><span class="o">.</span> <span class="o">]</span> <span class="n">x</span> <span class="n">y</span> <span class="n">z</span><span class="o">);</span>

<span class="nn">Plot</span><span class="p">.</span><span class="n">output</span> <span class="n">h</span><span class="o">;;</span>
</pre></div>
</div>
<div class="figure align-center">
<a class="reference internal image-reference" href="../_images/plot_024.png"><img alt="plot example" src="../_images/plot_024.png" style="width: 100%;" /></a>
</div>
<p>If you have made some cool figures using Owl, please do share them with us on <a class="reference external" href="https://github.com/ryanrhymes/owl/wiki/Plot-Gallery">Plot Gallery</a>! Thanks.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2018, <a href="http://www.cl.cam.ac.uk/~lw525/">Liang Wang</a>   | <a href="http://www.cl.cam.ac.uk/">Computer Lab, University of Cambridge</a>.
      
      |
      <a href="../_sources/chapter/plot.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>